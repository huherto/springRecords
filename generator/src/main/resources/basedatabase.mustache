package {{packageName}};

import javax.sql.DataSource;

import org.springframework.jdbc.core.support.JdbcDaoSupport;

public class {{baseDatabaseClassName}} extends JdbcDaoSupport {

    {{#tables}}
    private {{concreteTableClassName}} {{tableInstanceName}} = null;
    {{/tables}}

    protected {{baseDatabaseClassName}}(DataSource dataSource) {
        setDataSource(dataSource);
    }

    {{#tables}}
    public {{concreteTableClassName}} {{tableInstanceName}}() {
        if ({{tableInstanceName}} == null) {
            {{tableInstanceName}} = new {{concreteTableClassName}}(getDataSource());
        }
        return {{tableInstanceName}};
    }

    {{/tables}}
}
